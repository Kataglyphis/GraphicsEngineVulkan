\hypertarget{_vulkan_debug_8cpp_source}{}\doxysection{Vulkan\+Debug.\+cpp}
\label{_vulkan_debug_8cpp_source}\index{C:/Users/jonas\_l6e3q/Desktop/GraphicsEngineVulkan/Src/vulkan\_base/VulkanDebug.cpp@{C:/Users/jonas\_l6e3q/Desktop/GraphicsEngineVulkan/Src/vulkan\_base/VulkanDebug.cpp}}
\mbox{\hyperlink{_vulkan_debug_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}VulkanDebug.h"{}}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}Utilities.h"{}}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00005}\mbox{\hyperlink{namespacedebug}{00005}} \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacedebug}{debug}} \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00006}\mbox{\hyperlink{namespacedebug_a3f65712a616783bbd6fe7e68429d4c44}{00006}} PFN\_vkCreateDebugUtilsMessengerEXT \mbox{\hyperlink{namespacedebug_a3f65712a616783bbd6fe7e68429d4c44}{vkCreateDebugUtilsMessengerEXT}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00007}\mbox{\hyperlink{namespacedebug_a2f5a6dfd28afbfc30436972d7cebb1e4}{00007}} PFN\_vkDestroyDebugUtilsMessengerEXT \mbox{\hyperlink{namespacedebug_a2f5a6dfd28afbfc30436972d7cebb1e4}{vkDestroyDebugUtilsMessengerEXT}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00008}\mbox{\hyperlink{namespacedebug_a9f1286c41f0bc07d0558b13fe031eda3}{00008}} VkDebugUtilsMessengerEXT \mbox{\hyperlink{namespacedebug_a9f1286c41f0bc07d0558b13fe031eda3}{debugUtilsMessenger}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00010}\mbox{\hyperlink{namespacedebug_a2c211b70c4398422cdff97189048fe44}{00010}} VKAPI\_ATTR VkBool32 VKAPI\_CALL \mbox{\hyperlink{namespacedebug_a2c211b70c4398422cdff97189048fe44}{debugUtilsMessengerCallback}}(}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00011}00011     VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity,}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00012}00012     VkDebugUtilsMessageTypeFlagsEXT messageType,}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00013}00013     \textcolor{keyword}{const} VkDebugUtilsMessengerCallbackDataEXT* pCallbackData,}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00014}00014     \textcolor{keywordtype}{void}* pUserData) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00015}00015   \textcolor{comment}{// Select prefix depending on flags passed to the callback}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00016}00016   std::string prefix(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00018}00018   \textcolor{keywordflow}{if} (messageSeverity \& VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_VERBOSE\_BIT\_EXT) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00019}00019     prefix = \textcolor{stringliteral}{"{}VERBOSE: "{}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00020}00020   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (messageSeverity \& VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_INFO\_BIT\_EXT) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00021}00021     prefix = \textcolor{stringliteral}{"{}INFO: "{}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00022}00022   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (messageSeverity \&}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00023}00023              VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_WARNING\_BIT\_EXT) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00024}00024     prefix = \textcolor{stringliteral}{"{}WARNING: "{}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00025}00025   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (messageSeverity \& VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_ERROR\_BIT\_EXT) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00026}00026     prefix = \textcolor{stringliteral}{"{}ERROR: "{}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00027}00027   \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00029}00029   \textcolor{comment}{// Display message to default output (console/logcat)}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00030}00030   std::stringstream debugMessage;}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00031}00031   debugMessage << prefix << \textcolor{stringliteral}{"{}["{}} << pCallbackData-\/>messageIdNumber << \textcolor{stringliteral}{"{}]["{}}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00032}00032                << pCallbackData-\/>pMessageIdName}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00033}00033                << \textcolor{stringliteral}{"{}] : "{}} << pCallbackData-\/>pMessage;}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00035}00035 \textcolor{preprocessor}{\#if defined(\_\_ANDROID\_\_)}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00036}00036   \textcolor{keywordflow}{if} (messageSeverity >= VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_ERROR\_BIT\_EXT) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00037}00037     LOGE(\textcolor{stringliteral}{"{}\%s"{}}, debugMessage.str().c\_str());}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00038}00038   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00039}00039     LOGD(\textcolor{stringliteral}{"{}\%s"{}}, debugMessage.str().c\_str());}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00040}00040   \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00041}00041 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00042}00042   \textcolor{keywordflow}{if} (messageSeverity >= VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_ERROR\_BIT\_EXT) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00043}00043     std::cerr << debugMessage.str() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00044}00044   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00045}00045     std::cout << debugMessage.str() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00046}00046   \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00047}00047   fflush(stdout);}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00048}00048 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00050}00050   \textcolor{comment}{// The return value of this callback controls whether the Vulkan call that}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00051}00051   \textcolor{comment}{// caused the validation message will be aborted or not We return VK\_FALSE as}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00052}00052   \textcolor{comment}{// we DON'T want Vulkan calls that cause a validation message to abort If you}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00053}00053   \textcolor{comment}{// instead want to have calls abort, pass in VK\_TRUE and the function will}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00054}00054   \textcolor{comment}{// return VK\_ERROR\_VALIDATION\_FAILED\_EXT}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00055}00055   \textcolor{keywordflow}{return} VK\_FALSE;}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00056}00056 \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00058}\mbox{\hyperlink{namespacedebug_a2d3861f9b449521a13975f6f21342c43}{00058}} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedebug_a2d3861f9b449521a13975f6f21342c43}{setupDebugging}}(VkInstance instance, VkDebugReportFlagsEXT flags,}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00059}00059                     VkDebugReportCallbackEXT callBack) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00060}00060   \mbox{\hyperlink{namespacedebug_a3f65712a616783bbd6fe7e68429d4c44}{vkCreateDebugUtilsMessengerEXT}} =}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00061}00061       \textcolor{keyword}{reinterpret\_cast<}PFN\_vkCreateDebugUtilsMessengerEXT\textcolor{keyword}{>}(}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00062}00062           vkGetInstanceProcAddr(instance, \textcolor{stringliteral}{"{}vkCreateDebugUtilsMessengerEXT"{}}));}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00063}00063   \mbox{\hyperlink{namespacedebug_a2f5a6dfd28afbfc30436972d7cebb1e4}{vkDestroyDebugUtilsMessengerEXT}} =}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00064}00064       \textcolor{keyword}{reinterpret\_cast<}PFN\_vkDestroyDebugUtilsMessengerEXT\textcolor{keyword}{>}(}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00065}00065           vkGetInstanceProcAddr(instance, \textcolor{stringliteral}{"{}vkDestroyDebugUtilsMessengerEXT"{}}));}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00067}00067   VkDebugUtilsMessengerCreateInfoEXT debugUtilsMessengerCI\{\};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00068}00068   debugUtilsMessengerCI.sType =}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00069}00069       VK\_STRUCTURE\_TYPE\_DEBUG\_UTILS\_MESSENGER\_CREATE\_INFO\_EXT;}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00070}00070   debugUtilsMessengerCI.messageSeverity =}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00071}00071       VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_WARNING\_BIT\_EXT |}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00072}00072       VK\_DEBUG\_UTILS\_MESSAGE\_SEVERITY\_ERROR\_BIT\_EXT;}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00073}00073   debugUtilsMessengerCI.messageType =}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00074}00074       VK\_DEBUG\_UTILS\_MESSAGE\_TYPE\_GENERAL\_BIT\_EXT |}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00075}00075       VK\_DEBUG\_UTILS\_MESSAGE\_TYPE\_VALIDATION\_BIT\_EXT;}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00076}00076   debugUtilsMessengerCI.pfnUserCallback = \mbox{\hyperlink{namespacedebug_a2c211b70c4398422cdff97189048fe44}{debugUtilsMessengerCallback}};}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00077}00077   ASSERT\_VULKAN(\mbox{\hyperlink{namespacedebug_a3f65712a616783bbd6fe7e68429d4c44}{vkCreateDebugUtilsMessengerEXT}}(instance, \&debugUtilsMessengerCI,}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00078}00078                                                \textcolor{keyword}{nullptr}, \&\mbox{\hyperlink{namespacedebug_a9f1286c41f0bc07d0558b13fe031eda3}{debugUtilsMessenger}}),}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00079}00079                 \textcolor{stringliteral}{"{}Failed to create debug messenger"{}})}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00080}00080 \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00081}00081 }
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00082}\mbox{\hyperlink{namespacedebug_a0090a7de5456794069c8360a0780ed52}{00082}} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedebug_a0090a7de5456794069c8360a0780ed52}{freeDebugCallback}}(VkInstance instance) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00083}00083   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacedebug_a9f1286c41f0bc07d0558b13fe031eda3}{debugUtilsMessenger}} != VK\_NULL\_HANDLE) \{}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00084}00084     \mbox{\hyperlink{namespacedebug_a2f5a6dfd28afbfc30436972d7cebb1e4}{vkDestroyDebugUtilsMessengerEXT}}(instance, \mbox{\hyperlink{namespacedebug_a9f1286c41f0bc07d0558b13fe031eda3}{debugUtilsMessenger}}, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00085}00085   \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00086}00086 \}}
\DoxyCodeLine{\Hypertarget{_vulkan_debug_8cpp_source_l00087}00087 \}  \textcolor{comment}{// namespace debug}}

\end{DoxyCode}
